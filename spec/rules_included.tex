% generated by Ott 0.31 from: rules.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{

}}

\newcommand{\otttyp}{
\ottrulehead{\ottnt{typ}  ,\ \ottnt{A}  ,\ \ottnt{B}  ,\ \ottnt{C}  ,\ \ottnt{D}  ,\ \mathsf{Char}  ,\ \mathsf{Bool}}{::=}{\ottcom{types}}\ottprodnewline
\ottfirstprodline{|}{ \mathsf{Int} }{}{}{}{\ottcom{int}}\ottprodnewline
\ottprodline{|}{ \mathsf{Top} }{}{}{}{\ottcom{top type}}\ottprodnewline
\ottprodline{|}{ \mathsf{Bot} }{}{}{}{\ottcom{bottom type}}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \ottsym{->}  \ottnt{B}}{}{}{}{\ottcom{function types}}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \, \& \,  \ottnt{B}}{}{}{}{\ottcom{intersection}}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \, \mid \,  \ottnt{B}}{}{}{}{\ottcom{union}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{A}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \, \& \, }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \, \mid \, }{}{}{}{}\ottprodnewline
\ottprodline{|}{ , }{}{}{}{}\ottprodnewline
\ottprodline{|}{ <: }{}{}{}{}\ottprodnewline
\ottprodline{|}{ <: }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash_{\&} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{\lhd} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{\rhd} }{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \neg  \ottnt{formula} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ ( \ottnt{formula} \!) } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \hlmath{ \ottnt{formula} } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottsym{l1}  \neq  \ottsym{l2} }{}{}{}{}}

\newcommand{\ottOSubtyping}{
\ottrulehead{\ottnt{OSubtyping}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \ottnt{A}  \leq  \ottnt{B} }{}{}{}{\ottcom{Original BCD Declarative Subtyping + Unions}}}

\newcommand{\ottSplitType}{
\ottrulehead{\ottnt{SplitType}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \ottnt{B}  \mathbin{\lhd}  \ottnt{A}  \mathbin{\rhd}  \ottnt{C} }{}{}{}{\ottcom{Splittable Types}}\ottprodnewline
\ottprodline{|}{ \ottnt{B}  \mathbin{\LHD}  \ottnt{A}  \mathbin{\RHD}  \ottnt{C} }{}{}{}{\ottcom{Split Union Types}}}

\newcommand{\ottOrdinaryType}{
\ottrulehead{\ottnt{OrdinaryType}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \ottnt{A} ~\mathsf{Ordinary} }{}{}{}{\ottcom{Ordinary Types}}\ottprodnewline
\ottprodline{|}{ \ottnt{A} ~\mathsf{OrdinaryU} }{}{}{}{\ottcom{Ordinary Types (for unions)}}}

\newcommand{\ottTopLikeType}{
\ottrulehead{\ottnt{TopLikeType}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \rceil \ottnt{A} \lceil }{}{}{}{\ottcom{Top-like Types}}}

\newcommand{\ottSubtyping}{
\ottrulehead{\ottnt{Subtyping}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{A}  \ottsym{<:}  \ottnt{B}}{}{}{}{\ottcom{Modular BCD Subtyping  (\textless :)}}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{OSubtyping}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{SplitType}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{OrdinaryType}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{TopLikeType}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Subtyping}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{typ}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\otttyp\ottinterrule
\ottterminals\ottinterrule
\ottformula\ottinterrule
\ottOSubtyping\ottinterrule
\ottSplitType\ottinterrule
\ottOrdinaryType\ottinterrule
\ottTopLikeType\ottinterrule
\ottSubtyping\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% defns OSubtyping
%% defn osub
\newcommand{\ottdruleOSXXrefl}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \leq  \ottnt{A} }{%
{\ottdrulename{OS\_refl}}{}%
}}


\newcommand{\ottdruleOSXXtrans}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  \leq  \ottnt{B} }%
\ottpremise{ \ottnt{B}  \leq  \ottnt{C} }%
}{
 \ottnt{A}  \leq  \ottnt{C} }{%
{\ottdrulename{OS\_trans}}{}%
}}


\newcommand{\ottdruleOSXXtop}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \leq   \mathsf{Top}  }{%
{\ottdrulename{OS\_top}}{}%
}}


\newcommand{\ottdruleOSXXtopArr}[1]{\ottdrule[#1]{%
}{
  \mathsf{Top}   \leq   \mathsf{Top}   \ottsym{->}   \mathsf{Top}  }{%
{\ottdrulename{OS\_topArr}}{}%
}}


\newcommand{\ottdruleOSXXbot}[1]{\ottdrule[#1]{%
}{
  \mathsf{Bot}   \leq  \ottnt{A} }{%
{\ottdrulename{OS\_bot}}{}%
}}


\newcommand{\ottdruleOSXXarr}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B}  \leq  \ottnt{A} }%
\ottpremise{ \ottnt{C}  \leq  \ottnt{D} }%
}{
 \ottnt{A}  \ottsym{->}  \ottnt{C}  \leq  \ottnt{B}  \ottsym{->}  \ottnt{D} }{%
{\ottdrulename{OS\_arr}}{}%
}}


\newcommand{\ottdruleOSXXand}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  \leq  \ottnt{B} }%
\ottpremise{ \ottnt{A}  \leq  \ottnt{C} }%
}{
 \ottnt{A}  \leq  \ottnt{B}  \, \& \,  \ottnt{C} }{%
{\ottdrulename{OS\_and}}{}%
}}


\newcommand{\ottdruleOSXXandl}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \, \& \,  \ottnt{B}  \leq  \ottnt{A} }{%
{\ottdrulename{OS\_andl}}{}%
}}


\newcommand{\ottdruleOSXXandr}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \, \& \,  \ottnt{B}  \leq  \ottnt{B} }{%
{\ottdrulename{OS\_andr}}{}%
}}


\newcommand{\ottdruleOSXXor}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  \leq  \ottnt{C} }%
\ottpremise{ \ottnt{B}  \leq  \ottnt{C} }%
}{
 \ottnt{A}  \, \mid \,  \ottnt{B}  \leq  \ottnt{C} }{%
{\ottdrulename{OS\_or}}{}%
}}


\newcommand{\ottdruleOSXXorl}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \leq  \ottnt{A}  \, \mid \,  \ottnt{B} }{%
{\ottdrulename{OS\_orl}}{}%
}}


\newcommand{\ottdruleOSXXorr}[1]{\ottdrule[#1]{%
}{
 \ottnt{B}  \leq  \ottnt{A}  \, \mid \,  \ottnt{B} }{%
{\ottdrulename{OS\_orr}}{}%
}}


\newcommand{\ottdruleOSXXdistArr}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}  \ottnt{A}  \ottsym{->}  \ottnt{B}  \ottsym{)}  \, \& \,  \ottsym{(}  \ottnt{A}  \ottsym{->}  \ottnt{C}  \ottsym{)}  \leq  \ottnt{A}  \ottsym{->}  \ottnt{B}  \, \& \,  \ottnt{C} }{%
{\ottdrulename{OS\_distArr}}{}%
}}


\newcommand{\ottdruleOSXXdistArrU}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}  \ottnt{A}  \ottsym{->}  \ottnt{C}  \ottsym{)}  \, \& \,  \ottsym{(}  \ottnt{B}  \ottsym{->}  \ottnt{C}  \ottsym{)}  \leq  \ottnt{A}  \, \mid \,  \ottnt{B}  \ottsym{->}  \ottnt{C} }{%
{\ottdrulename{OS\_distArrU}}{}%
}}

\newcommand{\ottdefnosub}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{A}  \leq  \ottnt{B} $}{\ottcom{Original BCD Declarative Subtyping + Unions}}
\ottusedrule{\ottdruleOSXXrefl{}}
\ottusedrule{\ottdruleOSXXtrans{}}
\ottusedrule{\ottdruleOSXXtop{}}
\ottusedrule{\ottdruleOSXXtopArr{}}
\ottusedrule{\ottdruleOSXXbot{}}
\ottusedrule{\ottdruleOSXXarr{}}
\ottusedrule{\ottdruleOSXXand{}}
\ottusedrule{\ottdruleOSXXandl{}}
\ottusedrule{\ottdruleOSXXandr{}}
\ottusedrule{\ottdruleOSXXor{}}
\ottusedrule{\ottdruleOSXXorl{}}
\ottusedrule{\ottdruleOSXXorr{}}
\ottusedrule{\ottdruleOSXXdistArr{}}
\ottusedrule{\ottdruleOSXXdistArrU{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsOSubtyping}{
\ottdefnosub{}}

% defns SplitType
%% defn spl
\newcommand{\ottdruleSpXXand}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \mathbin{\lhd}  \ottnt{A}  \, \& \,  \ottnt{B}  \mathbin{\rhd}  \ottnt{B} }{%
{\ottdrulename{Sp\_and}}{}%
}}


\newcommand{\ottdruleSpXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{C}  \mathbin{\lhd}  \ottnt{B}  \mathbin{\rhd}  \ottnt{D} }%
}{
 \ottnt{A}  \ottsym{->}  \ottnt{C}  \mathbin{\lhd}  \ottnt{A}  \ottsym{->}  \ottnt{B}  \mathbin{\rhd}  \ottnt{A}  \ottsym{->}  \ottnt{D} }{%
{\ottdrulename{Sp\_arrow}}{}%
}}


\newcommand{\ottdruleSpXXarrowUnion}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B}  \mathbin{\LHD}  \ottnt{A}  \mathbin{\RHD}  \ottnt{C} }%
}{
 \ottnt{B}  \ottsym{->}  \ottnt{D}  \mathbin{\lhd}  \ottnt{A}  \ottsym{->}  \ottnt{D}  \mathbin{\rhd}  \ottnt{C}  \ottsym{->}  \ottnt{D} }{%
{\ottdrulename{Sp\_arrowUnion}}{}%
}}

\newcommand{\ottdefnspl}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{B}  \mathbin{\lhd}  \ottnt{A}  \mathbin{\rhd}  \ottnt{C} $}{\ottcom{Splittable Types}}
\ottusedrule{\ottdruleSpXXand{}}
\ottusedrule{\ottdruleSpXXarrow{}}
\ottusedrule{\ottdruleSpXXarrowUnion{}}
\end{ottdefnblock}}

%% defn splu
\newcommand{\ottdruleSpUXXand}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \mathbin{\LHD}  \ottnt{A}  \, \mid \,  \ottnt{B}  \mathbin{\RHD}  \ottnt{B} }{%
{\ottdrulename{SpU\_and}}{}%
}}


\newcommand{\ottdruleSpUXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{C}  \mathbin{\LHD}  \ottnt{B}  \mathbin{\RHD}  \ottnt{D} }%
}{
 \ottnt{A}  \ottsym{->}  \ottnt{C}  \mathbin{\LHD}  \ottnt{A}  \ottsym{->}  \ottnt{B}  \mathbin{\RHD}  \ottnt{A}  \ottsym{->}  \ottnt{D} }{%
{\ottdrulename{SpU\_arrow}}{}%
}}


\newcommand{\ottdruleSpUXXarrowUnion}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B}  \mathbin{\lhd}  \ottnt{A}  \mathbin{\rhd}  \ottnt{C} }%
}{
 \ottnt{B}  \ottsym{->}  \ottnt{D}  \mathbin{\LHD}  \ottnt{A}  \ottsym{->}  \ottnt{D}  \mathbin{\RHD}  \ottnt{C}  \ottsym{->}  \ottnt{D} }{%
{\ottdrulename{SpU\_arrowUnion}}{}%
}}

\newcommand{\ottdefnsplu}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{B}  \mathbin{\LHD}  \ottnt{A}  \mathbin{\RHD}  \ottnt{C} $}{\ottcom{Split Union Types}}
\ottusedrule{\ottdruleSpUXXand{}}
\ottusedrule{\ottdruleSpUXXarrow{}}
\ottusedrule{\ottdruleSpUXXarrowUnion{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsSplitType}{
\ottdefnspl{}\ottdefnsplu{}}

% defns OrdinaryType
%% defn ord
\newcommand{\ottdruleOXXtop}[1]{\ottdrule[#1]{%
}{
  \mathsf{Top}  ~\mathsf{Ordinary} }{%
{\ottdrulename{O\_top}}{}%
}}


\newcommand{\ottdruleOXXbot}[1]{\ottdrule[#1]{%
}{
  \mathsf{Bot}  ~\mathsf{Ordinary} }{%
{\ottdrulename{O\_bot}}{}%
}}


\newcommand{\ottdruleOXXint}[1]{\ottdrule[#1]{%
}{
  \mathsf{Int}  ~\mathsf{Ordinary} }{%
{\ottdrulename{O\_int}}{}%
}}


\newcommand{\ottdruleOXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A} ~\mathsf{OrdinaryU} }%
\ottpremise{ \ottnt{B} ~\mathsf{Ordinary} }%
}{
 \ottnt{A}  \ottsym{->}  \ottnt{B} ~\mathsf{Ordinary} }{%
{\ottdrulename{O\_arrow}}{}%
}}


\newcommand{\ottdruleOXXor}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \, \mid \,  \ottnt{B} ~\mathsf{Ordinary} }{%
{\ottdrulename{O\_or}}{}%
}}

\newcommand{\ottdefnord}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{A} ~\mathsf{Ordinary} $}{\ottcom{Ordinary Types}}
\ottusedrule{\ottdruleOXXtop{}}
\ottusedrule{\ottdruleOXXbot{}}
\ottusedrule{\ottdruleOXXint{}}
\ottusedrule{\ottdruleOXXarrow{}}
\ottusedrule{\ottdruleOXXor{}}
\end{ottdefnblock}}

%% defn ordu
\newcommand{\ottdruleOUXXtop}[1]{\ottdrule[#1]{%
}{
  \mathsf{Top}  ~\mathsf{OrdinaryU} }{%
{\ottdrulename{OU\_top}}{}%
}}


\newcommand{\ottdruleOUXXbot}[1]{\ottdrule[#1]{%
}{
  \mathsf{Bot}  ~\mathsf{OrdinaryU} }{%
{\ottdrulename{OU\_bot}}{}%
}}


\newcommand{\ottdruleOUXXint}[1]{\ottdrule[#1]{%
}{
  \mathsf{Int}  ~\mathsf{OrdinaryU} }{%
{\ottdrulename{OU\_int}}{}%
}}


\newcommand{\ottdruleOUXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A} ~\mathsf{Ordinary} }%
\ottpremise{ \ottnt{B} ~\mathsf{OrdinaryU} }%
}{
 \ottnt{A}  \ottsym{->}  \ottnt{B} ~\mathsf{OrdinaryU} }{%
{\ottdrulename{OU\_arrow}}{}%
}}


\newcommand{\ottdruleOUXXand}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \, \& \,  \ottnt{B} ~\mathsf{OrdinaryU} }{%
{\ottdrulename{OU\_and}}{}%
}}

\newcommand{\ottdefnordu}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{A} ~\mathsf{OrdinaryU} $}{\ottcom{Ordinary Types (for unions)}}
\ottusedrule{\ottdruleOUXXtop{}}
\ottusedrule{\ottdruleOUXXbot{}}
\ottusedrule{\ottdruleOUXXint{}}
\ottusedrule{\ottdruleOUXXarrow{}}
\ottusedrule{\ottdruleOUXXand{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsOrdinaryType}{
\ottdefnord{}\ottdefnordu{}}

% defns TopLikeType
%% defn topLike
\newcommand{\ottdruleTLXXtop}[1]{\ottdrule[#1]{%
}{
 \rceil  \mathsf{Top}  \lceil }{%
{\ottdrulename{TL\_top}}{}%
}}


\newcommand{\ottdruleTLXXand}[1]{\ottdrule[#1]{%
\ottpremise{ \rceil \ottnt{A} \lceil }%
\ottpremise{ \rceil \ottnt{B} \lceil }%
}{
 \rceil \ottnt{A}  \, \& \,  \ottnt{B} \lceil }{%
{\ottdrulename{TL\_and}}{}%
}}


\newcommand{\ottdruleTLXXarr}[1]{\ottdrule[#1]{%
\ottpremise{ \rceil \ottnt{B} \lceil }%
}{
 \rceil \ottnt{A}  \ottsym{->}  \ottnt{B} \lceil }{%
{\ottdrulename{TL\_arr}}{}%
}}

\newcommand{\ottdefntopLike}[1]{\begin{ottdefnblock}[#1]{$ \rceil \ottnt{A} \lceil $}{\ottcom{Top-like Types}}
\ottusedrule{\ottdruleTLXXtop{}}
\ottusedrule{\ottdruleTLXXand{}}
\ottusedrule{\ottdruleTLXXarr{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsTopLikeType}{
\ottdefntopLike{}}

% defns Subtyping
%% defn sub
\newcommand{\ottdruleSXXint}[1]{\ottdrule[#1]{%
}{
 \mathsf{Int}   \ottsym{<:}   \mathsf{Int} }{%
{\ottdrulename{S\_int}}{}%
}}


\newcommand{\ottdruleSXXtop}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B} ~\mathsf{Ordinary} }%
\ottpremise{ \rceil \ottnt{B} \lceil }%
}{
\ottnt{A}  \ottsym{<:}  \ottnt{B}}{%
{\ottdrulename{S\_top}}{}%
}}


\newcommand{\ottdruleSXXandl}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{C} ~\mathsf{Ordinary} }%
\ottpremise{\ottnt{A}  \ottsym{<:}  \ottnt{C}}%
}{
\ottnt{A}  \, \& \,  \ottnt{B}  \ottsym{<:}  \ottnt{C}}{%
{\ottdrulename{S\_andl}}{}%
}}


\newcommand{\ottdruleSXXandr}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{C} ~\mathsf{Ordinary} }%
\ottpremise{\ottnt{B}  \ottsym{<:}  \ottnt{C}}%
}{
\ottnt{A}  \, \& \,  \ottnt{B}  \ottsym{<:}  \ottnt{C}}{%
{\ottdrulename{S\_andr}}{}%
}}


\newcommand{\ottdruleSXXarr}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{D} ~\mathsf{Ordinary} }%
\ottpremise{\ottnt{B}  \ottsym{<:}  \ottnt{A}}%
\ottpremise{\ottnt{C}  \ottsym{<:}  \ottnt{D}}%
}{
\ottnt{A}  \ottsym{->}  \ottnt{C}  \ottsym{<:}  \ottnt{B}  \ottsym{->}  \ottnt{D}}{%
{\ottdrulename{S\_arr}}{}%
}}


\newcommand{\ottdruleSXXand}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B}  \mathbin{\lhd}  \ottnt{D}  \mathbin{\rhd}  \ottnt{C} }%
\ottpremise{\ottnt{A}  \ottsym{<:}  \ottnt{B}}%
\ottpremise{\ottnt{A}  \ottsym{<:}  \ottnt{C}}%
}{
\ottnt{A}  \ottsym{<:}  \ottnt{D}}{%
{\ottdrulename{S\_and}}{}%
}}


\newcommand{\ottdruleSXXor}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B}  \mathbin{\LHD}  \ottnt{A}  \mathbin{\RHD}  \ottnt{C} }%
\ottpremise{\ottnt{B}  \ottsym{<:}  \ottnt{D}}%
\ottpremise{\ottnt{C}  \ottsym{<:}  \ottnt{D}}%
}{
\ottnt{A}  \ottsym{<:}  \ottnt{D}}{%
{\ottdrulename{S\_or}}{}%
}}

\newcommand{\ottdefnsub}[1]{\begin{ottdefnblock}[#1]{$\ottnt{A}  \ottsym{<:}  \ottnt{B}$}{\ottcom{Modular BCD Subtyping  (\textless :)}}
\ottusedrule{\ottdruleSXXint{}}
\ottusedrule{\ottdruleSXXtop{}}
\ottusedrule{\ottdruleSXXandl{}}
\ottusedrule{\ottdruleSXXandr{}}
\ottusedrule{\ottdruleSXXarr{}}
\ottusedrule{\ottdruleSXXand{}}
\ottusedrule{\ottdruleSXXor{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsSubtyping}{
\ottdefnsub{}}

\newcommand{\ottdefnss}{
\ottdefnsOSubtyping
\ottdefnsSplitType
\ottdefnsOrdinaryType
\ottdefnsTopLikeType
\ottdefnsSubtyping
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

